<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Языковая школа "Академик"</title>
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- Иконки Bootstrap -->
    <link rel="icon" href="images/logo.png" type="image/png">
	<!-- FontAwesome для иконки VK -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Кастомные стили -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="application.css">
    <!-- Google Fonts - Balsamiq Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Область уведомлений -->
    <div id="notification-area" class="position-fixed top-0 end-0 p-3" style="z-index: 1056;"></div>

    <!-- Шапка сайта -->
    <header class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="images/logo.png" alt="Логотип школы" height="40" class="d-inline-block align-text-top me-2">
                Академик
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <nav class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="index.html">Главная</a></li>
                    <li class="nav-item"><a class="nav-link" href="#about">О нас</a></li>
                    <li class="nav-item"><a class="nav-link" href="#courses">Курсы</a></li>
                    <li class="nav-item"><a class="nav-link" href="#tutors">Репетиторы</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contacts">Контакты</a></li>
                    <li class="nav-item"><a class="nav-link" href="cabinet.html">Личный кабинет</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Блок описания школы -->
    <section class="py-5 bg-light" id="about">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-4 fw-bold">Изучайте языки с удовольствием</h1>
                    <p class="lead">
                        Школа «Академик» предлагает современные методики обучения, 
                        индивидуальный подход и качественные материалы для изучения 
                        английского, немецкого, французского, китайского и других языков.
                    </p>
                    <p>
                        Наша миссия — сделать обучение доступным, интересным и эффективным 
                        для каждого студента, независимо от возраста и уровня подготовки.
                    </p>
                </div>
                <div class="col-lg-6">
                    <img src="images/school.jpg" 
                         alt="Обучение языкам" class="img-fluid rounded shadow">
                </div>
            </div>
        </div>
    </section>

    <!-- Преимущества изучения языков -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">Преимущества изучения иностранных языков</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center">
                            <i class="bi bi-globe fs-1 text-primary"></i>
                            <h4 class="card-title mt-3">Международное общение</h4>
                            <p class="card-text">
                                Возможность свободно общаться с людьми по всему миру, 
                                путешествовать без языковых барьеров.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center">
                            <i class="bi bi-briefcase fs-1 text-success"></i>
                            <h4 class="card-title mt-3">Карьерный рост</h4>
                            <p class="card-text">
                                Знание языков повышает вашу ценность на рынке труда, 
                                открывает доступ к международным компаниям и проектам.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center">
                            <i class="bi bi-lightbulb fs-1 text-warning"></i>
                            <h4 class="card-title mt-3">Развитие мышления</h4>
                            <p class="card-text">
                                Изучение языков тренирует память, улучшает когнитивные 
                                способности и помогает мыслить более гибко.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Предлагаемые курсы -->
    <section id="courses" class="py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-4">Предлагаемые курсы</h2>
        
            <!-- Форма поиска курсов -->
            <div class="row mb-4">
                <div class="col-md-8 mx-auto">
                    <div class="input-group">
                        <input type="text" class="form-control" id="courseNameInput" placeholder="Название курса">
                        <select class="form-select" id="courseLevelSelect" style="max-width: 200px;">
                            <option value="">Все уровни</option>
                            <option value="Beginner">Начальный</option>
                            <option value="Intermediate">Средний</option>
                            <option value="Advanced">Продвинутый</option>
                        </select>
                        <button class="btn btn-primary" onclick="searchCourses()">
                            <i class="bi bi-search"></i> Поиск
                        </button>
                    </div>
                </div>
            </div>

            <!-- Список курсов -->
            <div id="coursesContainer" class="row g-4">
                <div class="col-12 text-center">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Загрузка курсов...</span>
                    </div>
                    <p class="mt-2">Загрузка курсов...</p>
                </div>
            </div>

            <!-- Пагинация курсов -->
            <nav id="coursesPagination" class="mt-4">
                <ul class="pagination justify-content-center"></ul>
            </nav>
        </div>
    </section>

    <!-- Репетиторы -->
    <section id="tutors" class="py-5">
        <div class="container">
            <h2 class="text-center mb-4">Наши репетиторы</h2>
    
            <!-- Форма поиска репетиторов -->
            <div class="row mb-4" id="tutorSearch">
                <div class="col-md-4 mb-3">
                    <label for="tutorLanguages" class="form-label">Предлагаемые языки</label>
                    <select class="form-select" id="tutorLanguages" onchange="filterTutors()">
                           <option value="">Все языки</option>
                       <!-- Опции будут заполнены через JS -->
                    </select>
                    <div class="form-text">Языки, которым учит репетитор</div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="tutorLanguageLevel" class="form-label">Уровень языка</label>
                    <select class="form-select" id="tutorLanguageLevel" onchange="filterTutors()">
                        <option value="">Все уровни</option>
                        <option value="Beginner">Начальный</option>
                        <option value="Intermediate">Средний</option>
                        <option value="Advanced">Продвинутый</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="tutorExperience" class="form-label">Минимальный опыт (лет)</label>
                    <input type="number" class="form-control" id="tutorExperience" min="0" 
                        placeholder="0" oninput="filterTutors()">
                </div>
            </div>

            <!-- Таблица результатов поиска -->
            <div class="table-responsive">
                <table class="table table-hover" id="tutorSearchTable">
                    <thead class="table-dark">
                        <tr>
                            <th>Фото</th>
                            <th>Имя репетитора</th>
                            <th>Уровень языка</th>
                            <th>Языки преподавания</th>
                            <th>Языки, на которых говорит</th>
                            <th>Опыт (лет)</th>
                            <th>Почасовая ставка</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody id="tutorSearchTableBody">
                        <!-- Заполняется через JS -->
                    </tbody>
                </table>
            </div>

            <!-- Сообщение при отсутствии результатов -->
            <div id="noTutorsMessage" class="text-center py-4 d-none">
                <i class="bi bi-search fs-1 text-muted"></i>
                <h4 class="mt-3">Репетиторы не найдены</h4>
                <p class="text-muted">Попробуйте изменить критерии поиска</p>
            </div>

            <!-- Контейнер для действий с выбранным репетитором -->
            <div id="tutorActionsContainer" class="mb-3" style="display: none;">
               <!-- Будет заполнено динамически -->
            </div>
        </div>
    </section>

    <!-- Футер -->
    <footer id="contacts" class="bg-dark text-white py-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>Языковая школа "Академик"</h5>
                    <p>Качественное обучение языкам с 2010 года.</p>
                    <p><i class="bi bi-geo-alt"></i> Москва, ул. xxx</p>
                    <p><i class="bi bi-phone"></i> +7 (999) 999-99-99</p>
                    <p><i class="bi bi-envelope"></i> info@polyglot-school.ru</p>
                </div>
                <div class="col-md-4">
                    <h5>Полезные ссылки</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white text-decoration-none">Блог об изучении языков</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Бесплатные материалы</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Расписание мероприятий</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Отзывы студентов</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Социальные сети</h5>
                    <div class="social-links">
                        <a href="https://vk.com" target="_blank" class="text-white me-3" title="ВКонтакте">
                            <i class="fab fa-vk fs-4"></i>
                        </a>
                        <a href="https://t.me" target="_blank" class="text-white me-3" title="Telegram">
                            <i class="bi bi-telegram fs-4"></i>
                        </a>
                        <a href="https://www.youtube.com" target="_blank" class="text-white me-3" title="YouTube">
                            <i class="bi bi-youtube fs-4"></i>
                        </a>
                        <a href="https://www.facebook.com" target="_blank" class="text-white" title="Facebook">
                            <i class="bi bi-facebook fs-4"></i>
                        </a>
                    </div>
                    <p class="mt-3 small">Следите за новостями!</p>
                </div>
            <hr class="bg-light">
            <p class="text-center mb-0">&copy; 2025 Языковая школа "Академик". Все права защищены.</p>
        </div>
    </footer>

    <!-- Модальное окно оформления заявки -->
    <div class="modal fade" id="orderModal" tabindex="-1" aria-labelledby="orderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="orderModalLabel">Оформление заявки на курс</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <!-- ЕДИНАЯ ФОРМА ДЛЯ КУРСА -->
                    <form id="orderForm">
                        <!-- 1. Название выбранного курса (нередактируемое) -->
                        <div class="mb-3">
                            <label class="form-label fw-bold">Название курса</label>
                            <input type="text" class="form-control" id="orderCourseName" readonly 
                                   style="background-color: #f8f9fa; font-weight: bold;">
                        </div>
                    
                        <!-- 2. Полное имя преподавателя (нередактируемое) -->
                        <div class="mb-3">
                            <label class="form-label fw-bold">Преподаватель</label>
                            <input type="text" class="form-control" id="orderTeacher" readonly 
                                   style="background-color: #f8f9fa;">
                        </div>
                    
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <!-- 3. Поле для выбора даты начала курса -->
                                <label class="form-label fw-bold">Дата начала курса *</label>
                                <select class="form-control" id="courseStartDate" required>
                                    <option value="">Выберите дату начала</option>
                                    <!-- Заполняется через JS из API -->
                                </select>
                                <div class="form-text">Доступные даты начала курса из API</div>
                            </div>
                            <div class="col-md-6">
                                <!-- 4. Поле для выбора времени занятий -->
                                <label class="form-label fw-bold">Время занятия *</label>
                                <select class="form-control" id="courseTimeSelect" required disabled>
                                    <option value="">Сначала выберите дату начала</option>
                                </select>
                                <div class="form-text">Время начала и окончания занятия</div>
                            </div>
                        </div>
                    
                        <!-- 5. Продолжительность курса (нередактируемое) -->
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Продолжительность курса</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" id="orderDurationWeeks" readonly 
                                           style="background-color: #f8f9fa;">
                                    <span class="input-group-text">недель</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Дата окончания курса</label>
                                <input type="text" class="form-control" id="courseEndDate" readonly 
                                       style="background-color: #f8f9fa; font-weight: bold; color: #6A5ACD;">
                            </div>
                        </div>
                    
                        <!-- 6. Поле для указания количества студентов в группе -->
                       <div class="mb-3">
                            <label class="form-label fw-bold">Количество студентов в группе *</label>
                            <div class="row">
                                <div class="col-md-4">
                                    <input type="number" class="form-control" id="coursePersons" 
                                           min="1" max="20" value="1" required>
                                </div>
                                <div class="col-md-8">
                                    <div class="form-text">Диапазон: от 1 до 20 студентов</div>
                                </div>
                            </div>
                        </div>
                    
                        <!-- 7. Дополнительные параметры обучения -->
                        <div class="mb-4">
                            <h6 class="fw-bold border-bottom pb-2">Дополнительные параметры обучения</h6>
                        
                            <!-- Автоматически применяемые опции (информация) -->
                            <div id="autoAppliedOptions" class="alert alert-info mb-3" style="display: none;">
                                <h6 class="mb-2 fw-bold"><i class="bi bi-stars"></i> Автоматически примененные опции:</h6>
                                <div id="autoOptionsList"></div>
                            </div>
                        
                            <!-- Скрытые поля для автоматических опций -->
                            <input type="hidden" id="earlyRegistration" name="earlyRegistration">
                            <input type="hidden" id="groupEnrollment" name="groupEnrollment">
                            <input type="hidden" id="intensiveCourse" name="intensiveCourse">
                        
                            <!-- Пользовательские опции -->
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input extra-option" type="checkbox" id="supplementaryCheck">
                                        <label class="form-check-label" for="supplementaryCheck">
                                            Доп. материалы (+2000 ₽ на человека)
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input extra-option" type="checkbox" id="personalizedCheck">
                                        <label class="form-check-label" for="personalizedCheck">
                                            Индивидуальные занятия (+1500 ₽/неделю)
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input extra-option" type="checkbox" id="excursionsCheck">
                                        <label class="form-check-label" for="excursionsCheck">
                                            Культурные экскурсии (+25%)
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input extra-option" type="checkbox" id="assessmentCheck">
                                        <label class="form-check-label" for="assessmentCheck">
                                            Оценка уровня (+300 ₽)
                                       </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input extra-option" type="checkbox" id="interactiveCheck">
                                        <label class="form-check-label" for="interactiveCheck">
                                            Интерактивная платформа (+50%)
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                        <!-- 8. Отображение общей стоимости курса -->
                        <div class="card bg-primary text-white mb-4">
                            <div class="card-body">
                                <h5 class="card-title mb-2 fw-bold">Общая стоимость курса</h5>
                                <div class="display-5 fw-bold" id="totalCost">0</div>
                            </div>
                        </div>
                    
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle"></i> 
                            Стоимость рассчитывается автоматически при изменении параметров заявки.
                        </div>
                    
                        <!-- 9. Кнопки действий -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
                            <button type="submit" class="btn btn-primary">Отправить заявку</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS + Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Подключение скриптов -->
    <script src="api.js"></script>
    <script src="index.js"></script>
</body>
</html>
